<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>elmajs</title>
	<meta name="description" content="Documentation for elmajs">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">elmajs</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>elmajs</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<p><img src="https://github.com/elmadev/elmajs/workflows/Release/badge.svg" alt="Release"> <a href="https://www.npmjs.com/package/elmajs"><img src="https://img.shields.io/npm/v/elmajs" alt="npm"></a> <img src="https://img.shields.io/bundlephobia/minzip/elmajs" alt="npm bundle size"> <a href="https://codecov.io/gh/elmadev/elmajs"><img src="https://codecov.io/gh/elmadev/elmajs/branch/master/graph/badge.svg" alt="codecov"></a></p>
				<a href="#elmajs" id="elmajs" style="color: inherit; text-decoration: none;">
					<h1>elmajs</h1>
				</a>
				<p>Elasto Mania NPM package for working with all main game files: levels, replays, LGRs and state.dat.</p>
				<a href="#install" id="install" style="color: inherit; text-decoration: none;">
					<h1>Install</h1>
				</a>
				<p><code>npm install elmajs --save</code></p>
				<a href="#documentation-and-usage" id="documentation-and-usage" style="color: inherit; text-decoration: none;">
					<h1>Documentation and usage</h1>
				</a>
				<p>See <a href="https://elmadev.github.io/elmajs/">https://elmadev.github.io/elmajs/</a> for extended documentation.
				You will find the repository here: <a href="https://github.com/elmadev/elmajs">https://github.com/elmadev/elmajs</a></p>
				<a href="#opening-and-editing-a-level-file-in-nodejs" id="opening-and-editing-a-level-file-in-nodejs" style="color: inherit; text-decoration: none;">
					<h2>Opening and editing a level file in Node.js</h2>
				</a>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;fs&#x27;</span>);
<span class="hljs-keyword">const</span> { Level } = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;elmajs&#x27;</span>);

<span class="hljs-keyword">const</span> fileBuffer = fs.readFileSync(<span class="hljs-string">&#x27;C:/EOL/lev/groof89.lev&#x27;</span>);
<span class="hljs-keyword">const</span> level = Level.from(fileBuffer);
level.name = <span class="hljs-string">&#x27;rename level&#x27;</span>;
level.top10.single = []; <span class="hljs-comment">// remove single player best times list</span>
fs.writeFileSync(<span class="hljs-string">&#x27;testlev.lev&#x27;</span>, level.toBuffer());</code></pre>
				<a href="#using-umd-bundle-in-browser-directly" id="using-umd-bundle-in-browser-directly" style="color: inherit; text-decoration: none;">
					<h2>Using UMD bundle in browser directly</h2>
				</a>
				<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/elmajs@1.0.2/umd/main.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    (<span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">const</span> file = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">&#x27;https://eol.ams3.digitaloceanspaces.com/replays/vq0y3cwqfn/37Spef5269.rec&#x27;</span>);
      <span class="hljs-keyword">const</span> buffer = <span class="hljs-keyword">await</span> file.arrayBuffer();
      <span class="hljs-keyword">const</span> rec = ElmaJS.Replay.from(buffer); <span class="hljs-comment">// the UMD bundle adds a ElmaJS global variable with all functionality</span>

      <span class="hljs-keyword">const</span> info = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;info&#x27;</span>);
      <span class="hljs-comment">// returns whether ride in replay is finished (has a touch event as the final event)</span>
      <span class="hljs-comment">// and the time (if finished, exact same of event -- otherwise approximation based on frame count or a touch event)</span>
      <span class="hljs-keyword">const</span> { finished, time, reason } = rec.getTime();
      info.innerHTML = <span class="hljs-string">`<span class="hljs-subst">${rec.level}</span>: <span class="hljs-subst">${time}</span>`</span>; <span class="hljs-comment">// QWQUU037.LEV: 52690</span>
    })()
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;info&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></code></pre>
				<a href="#contribute" id="contribute" style="color: inherit; text-decoration: none;">
					<h1>Contribute</h1>
				</a>
				<ol>
					<li>Fork this project</li>
					<li>Enter the following:<pre><code class="language-shell">git clone https://github.com/YOUR-NAME/elmajs.git
cd elmajs
yarn</code></pre>
					</li>
					<li>Create your changes.</li>
					<li><code>yarn test</code> and make sure everything passes.</li>
					<li>Send a pull request!</li>
				</ol>
				<p>Do not modify any of the tests unless you know there is a mistake, or you need to add a new test for a new feature, or if something is missing.</p>
				<a href="#issues" id="issues" style="color: inherit; text-decoration: none;">
					<h1>Issues</h1>
				</a>
				<p>If you spot any errors, make a new issue and write as many details as you can regarding the error.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-enum">
						<a href="enums/clip.html" class="tsd-kind-icon">Clip</a>
					</li>
					<li class=" tsd-kind-enum">
						<a href="enums/direction.html" class="tsd-kind-icon">Direction</a>
					</li>
					<li class=" tsd-kind-enum">
						<a href="enums/eventtype.html" class="tsd-kind-icon">Event<wbr>Type</a>
					</li>
					<li class=" tsd-kind-enum">
						<a href="enums/gravity.html" class="tsd-kind-icon">Gravity</a>
					</li>
					<li class=" tsd-kind-enum">
						<a href="enums/objecttype.html" class="tsd-kind-icon">Object<wbr>Type</a>
					</li>
					<li class=" tsd-kind-enum">
						<a href="enums/picturetype.html" class="tsd-kind-icon">Picture<wbr>Type</a>
					</li>
					<li class=" tsd-kind-enum">
						<a href="enums/playmode.html" class="tsd-kind-icon">Play<wbr>Mode</a>
					</li>
					<li class=" tsd-kind-enum">
						<a href="enums/replayfinishstatereason.html" class="tsd-kind-icon">Replay<wbr>Finish<wbr>State<wbr>Reason</a>
					</li>
					<li class=" tsd-kind-enum">
						<a href="enums/soundoptimization.html" class="tsd-kind-icon">Sound<wbr>Optimization</a>
					</li>
					<li class=" tsd-kind-enum">
						<a href="enums/transparency.html" class="tsd-kind-icon">Transparency</a>
					</li>
					<li class=" tsd-kind-enum">
						<a href="enums/version.html" class="tsd-kind-icon">Version</a>
					</li>
					<li class=" tsd-kind-enum">
						<a href="enums/videodetail.html" class="tsd-kind-icon">Video<wbr>Detail</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/elmaobject.html" class="tsd-kind-icon">Elma<wbr>Object</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/event.html" class="tsd-kind-icon">Event</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/frame.html" class="tsd-kind-icon">Frame</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/lgr.html" class="tsd-kind-icon">LGR</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/level.html" class="tsd-kind-icon">Level</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/picture.html" class="tsd-kind-icon">Picture</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/picturedata.html" class="tsd-kind-icon">Picture<wbr>Data</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/picturedeclaration.html" class="tsd-kind-icon">Picture<wbr>Declaration</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/polygon.html" class="tsd-kind-icon">Polygon</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/position.html" class="tsd-kind-icon">Position</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/replay.html" class="tsd-kind-icon">Replay</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/ride.html" class="tsd-kind-icon">Ride</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/state.html" class="tsd-kind-icon">State</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/finishstate.html" class="tsd-kind-icon">Finish<wbr>State</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/playerentry.html" class="tsd-kind-icon">Player<wbr>Entry</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/playerkeys.html" class="tsd-kind-icon">Player<wbr>Keys</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/rideheader.html" class="tsd-kind-icon">Ride<wbr>Header</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/timeentry.html" class="tsd-kind-icon">Time<wbr>Entry</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/top10.html" class="tsd-kind-icon">Top10</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#bufferinput" class="tsd-kind-icon">Buffer<wbr>Input</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#eod_marker" class="tsd-kind-icon">EOD_<wbr>MARKER</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#eof_marker" class="tsd-kind-icon">EOF_<wbr>MARKER</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#eor_marker" class="tsd-kind-icon">EOR_<wbr>MARKER</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#head_diameter" class="tsd-kind-icon">HEAD_<wbr>DIAMETER</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#head_radius" class="tsd-kind-icon">HEAD_<wbr>RADIUS</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#level_name_size" class="tsd-kind-icon">LEVEL_<wbr>NAME_<wbr>SIZE</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#lgreof" class="tsd-kind-icon">LGREOF</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#lgrstart" class="tsd-kind-icon">LGRStart</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#num_internals" class="tsd-kind-icon">NUM_<wbr>INTERNALS</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#num_levels" class="tsd-kind-icon">NUM_<wbr>LEVELS</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#num_players" class="tsd-kind-icon">NUM_<wbr>PLAYERS</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#object_diameter" class="tsd-kind-icon">OBJECT_<wbr>DIAMETER</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#object_radius" class="tsd-kind-icon">OBJECT_<wbr>RADIUS</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#playerentry_name_size" class="tsd-kind-icon">PLAYERENTRY_<wbr>NAME_<wbr>SIZE</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#playerentry_padding" class="tsd-kind-icon">PLAYERENTRY_<wbr>PADDING</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#player_name_size" class="tsd-kind-icon">PLAYER_<wbr>NAME_<wbr>SIZE</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#player_struct_size" class="tsd-kind-icon">PLAYER_<wbr>STRUCT_<wbr>SIZE</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#state_end" class="tsd-kind-icon">STATE_<wbr>END</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#state_end_alt" class="tsd-kind-icon">STATE_<wbr>END_<wbr>ALT</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#state_size" class="tsd-kind-icon">STATE_<wbr>SIZE</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#state_start" class="tsd-kind-icon">STATE_<wbr>START</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#buffertotop10" class="tsd-kind-icon">buffer<wbr>ToTop10</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#buffertotop10part" class="tsd-kind-icon">buffer<wbr>ToTop10<wbr>Part</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#formattime" class="tsd-kind-icon">format<wbr>Time</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#nullpadstring" class="tsd-kind-icon">nullpad<wbr>String</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#top10tobuffer" class="tsd-kind-icon">top10<wbr>ToBuffer</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#trimstring" class="tsd-kind-icon">trim<wbr>String</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>